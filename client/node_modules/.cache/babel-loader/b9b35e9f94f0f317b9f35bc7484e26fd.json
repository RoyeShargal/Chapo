{"ast":null,"code":"import _regeneratorRuntime from\"/Users/royeshargal/MyProjects/Chapo/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/royeshargal/MyProjects/Chapo/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/royeshargal/MyProjects/Chapo/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from\"react\";import httpClient from\"../httpClient\";import Post from\"./Post/Post\";import data from\"bootstrap/js/src/dom/data\";import'./home.css';import*as http from\"http\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function Home(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),posts=_useState2[0],setPosts=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),tags=_useState4[0],setTags=_useState4[1];var _useState5=useState([]),_useState6=_slicedToArray(_useState5,2),postsTags=_useState6[0],setPostsTags=_useState6[1];useEffect(function(){_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var listOfPosts;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return httpClient.get(\"//127.0.0.1:5000/posts\");case 3:listOfPosts=_context.sent;setPosts(listOfPosts.data);_context.next=10;break;case 7:_context.prev=7;_context.t0=_context[\"catch\"](0);console.log(\"no posts\");case 10:case\"end\":return _context.stop();}}},_callee,null,[[0,7]]);}))();},[]);var getPosts=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){var postsByTags;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return httpClient.post(\"//127.0.0.1:5000/postsbytags\",{tags:tags});case 2:postsByTags=_context2.sent;setPostsTags(postsByTags.data);case 4:case\"end\":return _context2.stop();}}},_callee2);}));return function getPosts(){return _ref2.apply(this,arguments);};}();// const mid = Math.ceil(posts.length/2);\n// const firstHalf = posts.slice().splice(0,mid);\n// const secondHalf = posts.slice().splice(-mid);\n// const [searchQuery, setSearchQuery] = useState(query || '');\nreturn/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"form\",{className:\"formSearch\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Search by Tags\",onChange:function onChange(e){setTags(e.target.value);getPosts().then(function(r){return null;});},value:tags,className:\"searchInput\"}),/*#__PURE__*/_jsx(\"br\",{})]}),tags.length==0?/*#__PURE__*/_jsxs(\"div\",{className:\"padd\",children:[posts.map(function(post){return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(Post,{aSinglePost:post})},\"{item} \");}),\"        \"]}):/*#__PURE__*/_jsxs(\"div\",{className:\"padd\",children:[postsTags.map(function(post){return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(Post,{aSinglePost:post})},\"{item} \");}),\"        \"]})]});}","map":{"version":3,"sources":["/Users/royeshargal/MyProjects/Chapo/client/src/components/home.js"],"names":["React","useState","useEffect","httpClient","Post","data","http","Home","posts","setPosts","tags","setTags","postsTags","setPostsTags","get","listOfPosts","console","log","getPosts","post","postsByTags","e","target","value","then","r","length","map"],"mappings":"geAAA,MAAOA,CAAAA,KAAP,EAAcC,QAAd,CAAwBC,SAAxB,KAAwC,OAAxC,CACA,MAAOC,CAAAA,UAAP,KAAuB,eAAvB,CACA,MAAOC,CAAAA,IAAP,KAAiB,aAAjB,CACA,MAAOC,CAAAA,IAAP,KAAiB,2BAAjB,CACA,MAAO,YAAP,CACA,MAAO,GAAKC,CAAAA,IAAZ,KAAsB,MAAtB,C,wFACA,cAAe,SAASC,CAAAA,IAAT,EAAe,CAC1B,cAAyBN,QAAQ,CAAC,EAAD,CAAjC,wCAAOO,KAAP,eAAaC,QAAb,eACA,eAAuBR,QAAQ,CAAC,EAAD,CAA/B,yCAAOS,IAAP,eAAYC,OAAZ,eACA,eAAiCV,QAAQ,CAAE,EAAF,CAAzC,yCAAOW,SAAP,eAAiBC,YAAjB,eACAX,SAAS,CAAE,UAAM,CACb,wDAAC,yLAEiCC,CAAAA,UAAU,CAACW,GAAX,CAAe,wBAAf,CAFjC,QAEaC,WAFb,eAKON,QAAQ,CAACM,WAAW,CAACV,IAAb,CAAR,CALP,+EAQOW,OAAO,CAACC,GAAR,CAAY,UAAZ,EARP,oEAAD,KAWH,CAZQ,CAYP,EAZO,CAAT,CAaA,GAAMC,CAAAA,QAAQ,2FAAE,+KAEcf,CAAAA,UAAU,CAACgB,IAAX,CAAgB,8BAAhB,CAA+C,CACrET,IAAI,CAAJA,IADqE,CAA/C,CAFd,QAENU,WAFM,gBAKZP,YAAY,CAACO,WAAW,CAACf,IAAb,CAAZ,CALY,wDAAF,kBAARa,CAAAA,QAAQ,2CAAd,CAQA;AAEA;AACA;AACA;AAEA,mBACJ,oCACQ,cAAM,SAAS,CAAE,YAAjB,wBACI,cAAO,IAAI,CAAC,MAAZ,CACO,WAAW,CAAC,gBADnB,CAEO,QAAQ,CAAE,kBAACG,CAAD,CAAK,CAACV,OAAO,CAACU,CAAC,CAACC,MAAF,CAASC,KAAV,CAAP,CAAyBL,QAAQ,GAAGM,IAAX,CAAgB,SAAAC,CAAC,QAAI,KAAJ,EAAjB,EAA2B,CAF3E,CAGO,KAAK,CAAEf,IAHd,CAIO,SAAS,CAAC,aAJjB,EADJ,cAOI,aAPJ,GADR,CAYKA,IAAI,CAACgB,MAAL,EAAe,CAAf,cAAoB,aAAK,SAAS,CAAE,MAAhB,WACZlB,KAAK,CAACmB,GAAN,CAAU,SAACR,IAAD,CAAU,CACjB,mBACI,kCACI,KAAC,IAAD,EAAO,WAAW,CAAEA,IAApB,EADJ,EAAS,SAAT,CADJ,CAKH,CANA,CADY,cAApB,cAQK,aAAK,SAAS,CAAE,MAAhB,WACGP,SAAS,CAACe,GAAV,CAAc,SAACR,IAAD,CAAU,CACrB,mBACI,kCACI,KAAC,IAAD,EAAO,WAAW,CAAEA,IAApB,EADJ,EAAS,SAAT,CADJ,CAKH,CANA,CADH,cApBV,GADI,CAqCH","sourcesContent":["import React,{useState, useEffect} from \"react\"\nimport httpClient from \"../httpClient\";\nimport Post from \"./Post/Post\";\nimport data from \"bootstrap/js/src/dom/data\";\nimport './home.css'\nimport * as http from \"http\";\nexport default function Home(){\n    const [posts,setPosts] = useState([])\n    const [tags,setTags] = useState('')\n    const [postsTags,setPostsTags] = useState ([])\n    useEffect( () => {\n        (async () => {\n            try{\n                const listOfPosts = await httpClient.get(\"//127.0.0.1:5000/posts\"\n\n                )\n                setPosts(listOfPosts.data)\n            }\n            catch(e){\n                console.log(\"no posts\")\n            }\n        })();\n    },[])\n    const getPosts =async  () =>\n    {\n        const postsByTags = await httpClient.post(\"//127.0.0.1:5000/postsbytags\",{\n            tags\n        })\n        setPostsTags(postsByTags.data)\n    }\n\n    // const mid = Math.ceil(posts.length/2);\n\n    // const firstHalf = posts.slice().splice(0,mid);\n    // const secondHalf = posts.slice().splice(-mid);\n    // const [searchQuery, setSearchQuery] = useState(query || '');\n\n    return(\n<div >\n        <form className={\"formSearch\"}>\n            <input type='text'\n                   placeholder='Search by Tags'\n                   onChange={(e)=>{setTags(e.target.value); getPosts().then(r => null)}}\n                   value={tags}\n                   className='searchInput'/>\n\n            <br/>\n            {/*<button type=\"button\" className=\"searcHereButton\" onClick={() => getPosts()}>Search</button>*/}\n\n        </form>\n    {tags.length == 0 ? (<div className={\"padd\"}>\n            {posts.map((post) => {\n                return(\n                    <div key=\"{item} \">\n                        <Post  aSinglePost={post}/>\n                    </div>\n                )\n            })}        </div>)\n        :(<div className={\"padd\"}>\n            {postsTags.map((post) => {\n                return(\n                    <div key=\"{item} \">\n                        <Post  aSinglePost={post}/>\n                    </div>\n                )\n            })}        </div>)}\n\n\n\n\n</div>\n\n\n    )\n}\n"]},"metadata":{},"sourceType":"module"}
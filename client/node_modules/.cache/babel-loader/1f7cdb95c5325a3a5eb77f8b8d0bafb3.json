{"ast":null,"code":"import _regeneratorRuntime from\"/Users/royeshargal/MyProjects/Chapo/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/royeshargal/MyProjects/Chapo/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/royeshargal/MyProjects/Chapo/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{useEffect,useState}from'react';import APIService from\"../APIService\";import\"../SignUp/signup.css\";import httpClient from\"../../httpClient\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var ChangePassword=function ChangePassword(props){var _useState=useState(''),_useState2=_slicedToArray(_useState,2),user=_useState2[0],setUser=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),password=_useState4[0],setPassword=_useState4[1];var _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),confirmpassword=_useState6[0],setConfirmPassword=_useState6[1];var _useState7=useState(''),_useState8=_slicedToArray(_useState7,2),userid=_useState8[0],setUserid=_useState8[1];useEffect(function(){_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var resp;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return httpClient.get(\"//127.0.0.1:5000/@me\");case 3:resp=_context.sent;setUser(resp.data);_context.next=10;break;case 7:_context.prev=7;_context.t0=_context[\"catch\"](0);console.log(\"Not Authenticated.\");case 10:case\"end\":return _context.stop();}}},_callee,null,[[0,7]]);}))();},[]);var changePassword=function changePassword(){APIService.InsertPassword({userid:userid,password:password}).then(function(response){return props.insertedUser(response);}).catch(function(error){return console.log('error',error);});};var handleSubmit=function handleSubmit(event){event.preventDefault();console.log();if(confirmpassword==password){changePassword();console.log(\"Password Changed, Success\");}else{window.alert(\"Passwords don't match!\");}setPassword('');setConfirmPassword('');};return/*#__PURE__*/_jsxs(\"div\",{className:\"signup\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"signupTitle\",children:\" PASSWORD CHANGE\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,className:\"signupForm\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"password\",required:true,minLength:8,maxLength:20,placeholder:\"Password\",onChange:function onChange(e){setPassword(e.target.value);setUserid(user.id);},value:password,className:\"signupInput\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",required:true,minLength:8,maxLength:20,placeholder:\"Confirm Password\",onChange:function onChange(e){return setConfirmPassword(e.target.value);},value:confirmpassword,className:\"signupInput\"}),/*#__PURE__*/_jsx(\"button\",{className:\"signupButton\",children:\" Confirm\"})]})]});};export default ChangePassword;","map":{"version":3,"sources":["/Users/royeshargal/MyProjects/Chapo/client/src/components/ChangePassword/changepassword.js"],"names":["useEffect","useState","APIService","httpClient","ChangePassword","props","user","setUser","password","setPassword","confirmpassword","setConfirmPassword","userid","setUserid","get","resp","data","console","log","changePassword","InsertPassword","then","response","insertedUser","catch","error","handleSubmit","event","preventDefault","window","alert","e","target","value","id"],"mappings":"geAAA,OAAQA,SAAR,CAAmBC,QAAnB,KAAkC,OAAlC,CACA,MAAOC,CAAAA,UAAP,KAAuB,eAAvB,CACA,MAAO,sBAAP,CACA,MAAOC,CAAAA,UAAP,KAAuB,kBAAvB,C,wFAEA,GAAMC,CAAAA,cAAc,CAAG,QAAjBA,CAAAA,cAAiB,CAACC,KAAD,CAAW,CAC9B,cAAuBJ,QAAQ,CAAE,EAAF,CAA/B,wCAAOK,IAAP,eAAYC,OAAZ,eAEA,eAAgCN,QAAQ,CAAC,EAAD,CAAxC,yCAAOO,QAAP,eAAiBC,WAAjB,eACA,eAA8CR,QAAQ,CAAC,EAAD,CAAtD,yCAAOS,eAAP,eAAwBC,kBAAxB,eACA,eAA2BV,QAAQ,CAAC,EAAD,CAAnC,yCAAOW,MAAP,eAAcC,SAAd,eAEAb,SAAS,CAAC,UAAI,CACV,wDAAC,kLAE0BG,CAAAA,UAAU,CAACW,GAAX,CAAe,sBAAf,CAF1B,QAEaC,IAFb,eAGOR,OAAO,CAACQ,IAAI,CAACC,IAAN,CAAP,CAHP,+EAMOC,OAAO,CAACC,GAAR,CAAY,oBAAZ,EANP,oEAAD,KASH,CAVQ,CAUP,EAVO,CAAT,CAWA,GAAMC,CAAAA,cAAc,CAAG,QAAjBA,CAAAA,cAAiB,EAAM,CACzBjB,UAAU,CAACkB,cAAX,CAA0B,CAAER,MAAM,CAANA,MAAF,CAASJ,QAAQ,CAARA,QAAT,CAA1B,EACKa,IADL,CACU,SAACC,QAAD,QAAcjB,CAAAA,KAAK,CAACkB,YAAN,CAAmBD,QAAnB,CAAd,EADV,EAEKE,KAFL,CAEW,SAAAC,KAAK,QAAIR,CAAAA,OAAO,CAACC,GAAR,CAAY,OAAZ,CAAqBO,KAArB,CAAJ,EAFhB,EAGH,CAJD,CAMA,GAAMC,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,CAACC,KAAD,CAAW,CAE5BA,KAAK,CAACC,cAAN,GACAX,OAAO,CAACC,GAAR,GACA,GAAGR,eAAe,EAAIF,QAAtB,CAAgC,CAC5BW,cAAc,GACdF,OAAO,CAACC,GAAR,CAAY,2BAAZ,EAEH,CAJD,IAKK,CACDW,MAAM,CAACC,KAAP,CAAa,wBAAb,EACH,CACGrB,WAAW,CAAC,EAAD,CAAX,CACJE,kBAAkB,CAAC,EAAD,CAAlB,CAGH,CAhBD,CAkBA,mBACI,aAAK,SAAS,CAAC,QAAf,wBACI,aAAM,SAAS,CAAC,aAAhB,8BADJ,cAGI,cAAM,QAAQ,CAAEe,YAAhB,CAA8B,SAAS,CAAC,YAAxC,wBAGI,cAAO,IAAI,CAAC,UAAZ,CACO,QAAQ,KADf,CAEO,SAAS,CAAE,CAFlB,CAGO,SAAS,CAAE,EAHlB,CAIO,WAAW,CAAC,UAJnB,CAKO,QAAQ,CAAE,kBAACK,CAAD,CAAK,CAACtB,WAAW,CAACsB,CAAC,CAACC,MAAF,CAASC,KAAV,CAAX,CAA4BpB,SAAS,CAACP,IAAI,CAAC4B,EAAN,CAAT,CAAmB,CALtE,CAMO,KAAK,CAAE1B,QANd,CAOO,SAAS,CAAC,aAPjB,EAHJ,cAWI,cAAO,IAAI,CAAC,UAAZ,CACO,QAAQ,KADf,CAEO,SAAS,CAAE,CAFlB,CAGO,SAAS,CAAE,EAHlB,CAIO,WAAW,CAAC,kBAJnB,CAKO,QAAQ,CAAE,kBAACuB,CAAD,QAAKpB,CAAAA,kBAAkB,CAACoB,CAAC,CAACC,MAAF,CAASC,KAAV,CAAvB,EALjB,CAMO,KAAK,CAAEvB,eANd,CAOO,SAAS,CAAC,aAPjB,EAXJ,cAoBI,eACI,SAAS,CAAC,cADd,sBApBJ,GAHJ,GADJ,CAiCH,CA3ED,CA8EA,cAAeN,CAAAA,cAAf","sourcesContent":["import {useEffect, useState} from 'react';\nimport APIService from \"../APIService\";\nimport \"../SignUp/signup.css\"\nimport httpClient from \"../../httpClient\";\n\nconst ChangePassword = (props) => {\n    const [user,setUser] = useState( '')\n\n    const [password, setPassword] = useState('')\n    const [confirmpassword, setConfirmPassword] = useState('')\n    const [userid,setUserid] = useState('')\n\n    useEffect(()=>{\n        (async () => {\n            try {\n                const resp = await httpClient.get(\"//127.0.0.1:5000/@me\");\n                setUser(resp.data);\n            }\n            catch (e){\n                console.log(\"Not Authenticated.\")\n            }\n        })();\n    },[])\n    const changePassword = () => {\n        APIService.InsertPassword({ userid,password})\n            .then((response) => props.insertedUser(response))\n            .catch(error => console.log('error', error))\n    }\n\n    const handleSubmit = (event) => {\n\n        event.preventDefault()\n        console.log()\n        if(confirmpassword == password) {\n            changePassword()\n            console.log(\"Password Changed, Success\")\n\n        }\n        else {\n            window.alert(\"Passwords don't match!\");\n        }\n            setPassword('')\n        setConfirmPassword('')\n\n\n    }\n\n    return (\n        <div className='signup'>\n            <span className=\"signupTitle\"> PASSWORD CHANGE</span>\n\n            <form onSubmit={handleSubmit} className=\"signupForm\">\n\n\n                <input type='password'\n                       required\n                       minLength={8}\n                       maxLength={20}\n                       placeholder='Password'\n                       onChange={(e)=>{setPassword(e.target.value);setUserid(user.id)}}\n                       value={password}\n                       className='signupInput'/>\n                <input type='password'\n                       required\n                       minLength={8}\n                       maxLength={20}\n                       placeholder='Confirm Password'\n                       onChange={(e)=>setConfirmPassword(e.target.value)}\n                       value={confirmpassword}\n                       className='signupInput'/>\n\n                <button\n                    className='signupButton'\n                > Confirm\n                </button>\n            </form>\n\n        </div>\n    )\n\n}\n\n\nexport default ChangePassword;\n"]},"metadata":{},"sourceType":"module"}
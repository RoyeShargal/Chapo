{"ast":null,"code":"import _regeneratorRuntime from\"/Users/royeshargal/MyProjects/Chapo/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/royeshargal/MyProjects/Chapo/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/royeshargal/MyProjects/Chapo/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import\"./topbar.css\";import React,{useEffect,useState}from'react';import{Link}from'react-router-dom';import httpClient from\"../../httpClient\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function TopBar(){var _useState=useState(''),_useState2=_slicedToArray(_useState,2),user=_useState2[0],setUser=_useState2[1];var logoutUser=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return httpClient.post(\"//127.0.0.1:5000/logout\");case 2:window.location.href=\"/home\";case 3:case\"end\":return _context.stop();}}},_callee);}));return function logoutUser(){return _ref.apply(this,arguments);};}();useEffect(function(){_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){var resp;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.prev=0;_context2.next=3;return httpClient.get(\"//127.0.0.1:5000/@me\");case 3:resp=_context2.sent;setUser(resp.data);_context2.next=10;break;case 7:_context2.prev=7;_context2.t0=_context2[\"catch\"](0);console.log(\"Not Authenticated.\");case 10:case\"end\":return _context2.stop();}}},_callee2,null,[[0,7]]);}))();},[]);return/*#__PURE__*/_jsxs(\"div\",{className:\"top\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"topLeft\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"topIcon fab fa-facebook\"}),/*#__PURE__*/_jsx(\"i\",{className:\"topIcon fab fa-instagram\"}),/*#__PURE__*/_jsx(\"i\",{className:\"topIcon fab fa-pinterest\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"topCenter\",children:/*#__PURE__*/_jsxs(\"ul\",{className:\"topList\",children:[/*#__PURE__*/_jsx(\"li\",{className:\"topListItem\",children:/*#__PURE__*/_jsx(Link,{to:\"/home\",className:\"a\",children:\"HOME\"})}),user.email==null?/*#__PURE__*/_jsx(\"li\",{className:\"topListItem\",children:/*#__PURE__*/_jsx(Link,{to:\"/login\",className:\"a\",children:\"LOGIN\"})}):/*#__PURE__*/_jsx(\"p\",{}),user.email!=null?/*#__PURE__*/_jsx(\"li\",{className:\"topListItem\",children:/*#__PURE__*/_jsx(Link,{to:\"/post\",className:\"a\",children:\"POST\"})}):/*#__PURE__*/_jsx(\"li\",{className:\"topListItem\",children:/*#__PURE__*/_jsx(Link,{to:\"/register\",className:\"a\",children:\"SIGNUP\"})}),user.email!=null?/*#__PURE__*/_jsx(\"li\",{className:\"topListItem\",children:/*#__PURE__*/_jsx(Link,{to:\"/myposts\",className:\"a\",children:\"LIKED POSTS\"})}):/*#__PURE__*/_jsx(\"li\",{className:\"topListItem\",children:/*#__PURE__*/_jsx(Link,{to:\"/register\",className:\"a\",children:\"SIGNUP\"})}),/*#__PURE__*/_jsx(\"li\",{className:\"topListItem\",children:/*#__PURE__*/_jsx(Link,{to:\"/about\",className:\"a\",children:\"ABOUT\"})})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"topRight\",children:[user.email!=null?/*#__PURE__*/_jsxs(Link,{to:\"/profile\",className:\"a\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"topSearchIcon far fa-user-circle\"}),\" \"]}):/*#__PURE__*/_jsx(\"i\",{}),user.email!=null?/*#__PURE__*/_jsx(\"i\",{className:\"topSearchIcon fas fa-sign-out-alt\",onClick:logoutUser}):/*#__PURE__*/_jsx(\"p\",{})]})]});}","map":{"version":3,"sources":["/Users/royeshargal/MyProjects/Chapo/client/src/components/TopBar/topbar.js"],"names":["React","useEffect","useState","Link","httpClient","TopBar","user","setUser","logoutUser","post","window","location","href","get","resp","data","console","log","email"],"mappings":"geAAA,MAAO,cAAP,CACA,MAAOA,CAAAA,KAAP,EAAeC,SAAf,CAA0BC,QAA1B,KAAyC,OAAzC,CACA,OAAQC,IAAR,KAAmB,kBAAnB,CACA,MAAOC,CAAAA,UAAP,KAAuB,kBAAvB,C,wFAGA,cAAe,SAASC,CAAAA,MAAT,EAAiB,CAC5B,cAAuBH,QAAQ,CAAE,EAAF,CAA/B,wCAAOI,IAAP,eAAYC,OAAZ,eAEA,GAAMC,CAAAA,UAAU,0FAAG,yJACTJ,CAAAA,UAAU,CAACK,IAAX,CAAgB,yBAAhB,CADS,QAEfC,MAAM,CAACC,QAAP,CAAgBC,IAAhB,CAAqB,OAArB,CAFe,sDAAH,kBAAVJ,CAAAA,UAAU,0CAAhB,CAIAP,SAAS,CAAC,UAAI,CACV,wDAAC,yLAE0BG,CAAAA,UAAU,CAACS,GAAX,CAAe,sBAAf,CAF1B,QAEaC,IAFb,gBAGOP,OAAO,CAACO,IAAI,CAACC,IAAN,CAAP,CAHP,mFAMOC,OAAO,CAACC,GAAR,CAAY,oBAAZ,EANP,sEAAD,KASH,CAVQ,CAUP,EAVO,CAAT,CAWA,mBACI,aAAK,SAAS,CAAE,KAAhB,wBACI,aAAK,SAAS,CAAC,SAAf,wBACI,UAAG,SAAS,CAAC,yBAAb,EADJ,cAEI,UAAG,SAAS,CAAC,0BAAb,EAFJ,cAGI,UAAG,SAAS,CAAC,0BAAb,EAHJ,GADJ,cASI,YAAK,SAAS,CAAC,WAAf,uBACI,YAAI,SAAS,CAAC,SAAd,wBAEI,WAAI,SAAS,CAAC,aAAd,uBACI,KAAC,IAAD,EAAM,EAAE,CAAE,OAAV,CAAkB,SAAS,CAAC,GAA5B,kBADJ,EAFJ,CAMKX,IAAI,CAACY,KAAL,EAAY,IAAZ,cAAmB,WAAI,SAAS,CAAC,aAAd,uBAEZ,KAAC,IAAD,EAAM,EAAE,CAAE,QAAV,CAAmB,SAAS,CAAC,GAA7B,mBAFY,EAAnB,cAIC,YAVN,CAWKZ,IAAI,CAACY,KAAL,EAAc,IAAd,cAAsB,WAAI,SAAS,CAAC,aAAd,uBACnB,KAAC,IAAD,EAAM,EAAE,CAAE,OAAV,CAAkB,SAAS,CAAC,GAA5B,kBADmB,EAAtB,cAGO,WAAI,SAAS,CAAC,aAAd,uBAEJ,KAAC,IAAD,EAAM,EAAE,CAAE,WAAV,CAAsB,SAAS,CAAC,GAAhC,oBAFI,EAdZ,CAkBKZ,IAAI,CAACY,KAAL,EAAc,IAAd,cAAsB,WAAI,SAAS,CAAC,aAAd,uBACnB,KAAC,IAAD,EAAM,EAAE,CAAE,UAAV,CAAqB,SAAS,CAAC,GAA/B,yBADmB,EAAtB,cAGO,WAAI,SAAS,CAAC,aAAd,uBAEJ,KAAC,IAAD,EAAM,EAAE,CAAE,WAAV,CAAsB,SAAS,CAAC,GAAhC,oBAFI,EArBZ,cA2BI,WAAI,SAAS,CAAC,aAAd,uBACI,KAAC,IAAD,EAAM,EAAE,CAAE,QAAV,CAAmB,SAAS,CAAC,GAA7B,mBADJ,EA3BJ,GADJ,EATJ,cA+CI,aAAK,SAAS,CAAC,UAAf,WACKZ,IAAI,CAACY,KAAL,EAAc,IAAd,cAEO,MAAC,IAAD,EAAM,EAAE,CAAE,UAAV,CAAqB,SAAS,CAAC,GAA/B,wBAAmC,UAAG,SAAS,CAAC,kCAAb,EAAnC,OAFP,cAKI,YANT,CASKZ,IAAI,CAACY,KAAL,EAAY,IAAZ,cAAkC,UAAG,SAAS,CAAC,mCAAb,CAAiD,OAAO,CAAEV,UAA1D,EAAlC,cACE,YAVP,GA/CJ,GADJ,CA+DH","sourcesContent":["import \"./topbar.css\"\nimport React, {useEffect, useState} from 'react'\nimport {Link} from 'react-router-dom'\nimport httpClient from \"../../httpClient\";\n\n\nexport default function TopBar(){\n    const [user,setUser] = useState( '')\n\n    const logoutUser = async()=>{\n        await httpClient.post(\"//127.0.0.1:5000/logout\");\n        window.location.href=\"/home\";\n    };\n    useEffect(()=>{\n        (async () => {\n            try {\n                const resp = await httpClient.get(\"//127.0.0.1:5000/@me\");\n                setUser(resp.data);\n            }\n            catch (e){\n                console.log(\"Not Authenticated.\")\n            }\n        })();\n    },[])\n    return(\n        <div className =\"top\">\n            <div className=\"topLeft\">\n                <i className=\"topIcon fab fa-facebook\"></i>\n                <i className=\"topIcon fab fa-instagram\"></i>\n                <i className=\"topIcon fab fa-pinterest\"></i>\n\n            </div>\n\n\n            <div className=\"topCenter\">\n                <ul className=\"topList\">\n\n                    <li className=\"topListItem\">\n                        <Link to =\"/home\" className=\"a\">HOME</Link>\n                    </li>\n\n                    {user.email==null? (<li className=\"topListItem\" >\n\n                            <Link to =\"/login\" className=\"a\">LOGIN</Link>\n                        </li>)\n                    :(<p></p>)}\n                    {user.email != null ? (<li className=\"topListItem\">\n                        <Link to =\"/post\" className=\"a\">POST</Link>\n\n                    </li>):(<li className=\"topListItem\" >\n\n                        <Link to =\"/register\" className=\"a\">SIGNUP</Link>\n                    </li>)}\n                    {user.email != null ? (<li className=\"topListItem\">\n                        <Link to =\"/myposts\" className=\"a\">LIKED POSTS</Link>\n\n                    </li>):(<li className=\"topListItem\" >\n\n                        <Link to =\"/register\" className=\"a\">SIGNUP</Link>\n                    </li>)}\n\n\n                    <li className=\"topListItem\" >\n                        <Link to =\"/about\" className=\"a\">\n                              ABOUT\n                        </Link>\n                    </li>\n\n\n                </ul>\n\n            </div>\n            <div className=\"topRight\">\n                {user.email != null?\n                    (\n                        <Link to =\"/profile\" className=\"a\"><i className=\"topSearchIcon far fa-user-circle\">\n                        </i> </Link>\n                    ):\n                    (<i></i>)}\n\n\n                {user.email!=null?(                <i className=\"topSearchIcon fas fa-sign-out-alt\" onClick={logoutUser}></i>\n                ):(<p></p>)}\n            </div>\n\n        </div>\n    )\n}\n"]},"metadata":{},"sourceType":"module"}